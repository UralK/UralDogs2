{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Eliza\\\\Desktop\\\\Dogs2\\\\src\\\\components\\\\app\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { CardList } from \"../card-list\";\nimport { Footer } from \"../footer\";\nimport { Header } from \"../header\";\nimport { Sort } from \"../sort\";\nimport { Logo } from \"../logo\";\nimport { Search } from \"../search\";\nimport api from '../../utils/api';\nimport { useDebounce } from '../../hooks/useDebounce';\nimport { isLiked } from '../../utils/products';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function App() {\n  _s();\n  const [cards, setCards] = useState([]);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const debounceSearchQuery = useDebounce(searchQuery, 300);\n  function handleRequest() {\n    api.search(debounceSearchQuery).then(dataSearch => {\n      setCards(dataSearch);\n    });\n  }\n  function handleFormSubmit(e) {\n    e.preventDefault();\n    handleRequest();\n  }\n  function handleInputChange(dataInput) {\n    setSearchQuery(dataInput);\n  }\n  function handleUpdateUser(dataUserUpdate) {\n    api.setUserInfo(dataUserUpdate).then(updateUserFromServer => {\n      setCurrentUser(updateUserFromServer);\n    });\n  }\n  function handleProductLike(product) {\n    const like = isLiked(product.likes, currentUser._id);\n    api.changeLikeProductStatus(product._id, like).then(updateCard => {\n      const newProducts = cards.map(cardState => {\n        return cardState._id === updateCard._id ? updateCard : cardState;\n      });\n      setCards(newProducts);\n    });\n  }\n  useEffect(() => {\n    handleRequest();\n  }, [debounceSearchQuery]);\n  useEffect(() => {\n    api.getProductsList().then(productsData => {\n      setCards(productsData.products);\n    }).catch(err => console.log(err));\n    api.getUserInfo().then(userData => {\n      setCurrentUser(userData);\n    }).catch(err => console.log(err));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      user: currentUser,\n      onUpdateUser: handleUpdateUser,\n      children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Search, {\n        handleFormSubmit: handleFormSubmit,\n        handleInputChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"content container\",\n      children: [/*#__PURE__*/_jsxDEV(Sort, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardList, {\n        cards: cards,\n        onProductLike: handleProductLike,\n        currentUser: currentUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"TChMTkF5x+3pbdIzs1JAo1qlQX4=\", false, function () {\n  return [useDebounce];\n});\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","CardList","Footer","Header","Sort","Logo","Search","api","useDebounce","isLiked","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","cards","setCards","currentUser","setCurrentUser","searchQuery","setSearchQuery","debounceSearchQuery","handleRequest","search","then","dataSearch","handleFormSubmit","e","preventDefault","handleInputChange","dataInput","handleUpdateUser","dataUserUpdate","setUserInfo","updateUserFromServer","handleProductLike","product","like","likes","_id","changeLikeProductStatus","updateCard","newProducts","map","cardState","getProductsList","productsData","products","catch","err","console","log","getUserInfo","userData","children","user","onUpdateUser","fileName","_jsxFileName","lineNumber","columnNumber","className","onProductLike","_c","$RefreshReg$"],"sources":["C:/Users/Eliza/Desktop/Dogs2/src/components/app/index.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { CardList } from \"../card-list\";\r\nimport { Footer } from \"../footer\";\r\nimport { Header } from \"../header\";\r\nimport { Sort } from \"../sort\";\r\nimport { Logo } from \"../logo\";\r\nimport { Search } from \"../search\";\r\nimport api from '../../utils/api';\r\nimport { useDebounce } from '../../hooks/useDebounce';\r\nimport { isLiked } from '../../utils/products';\r\n\r\nexport function App() {\r\n  const [cards, setCards] = useState([]);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const debounceSearchQuery = useDebounce(searchQuery, 300)\r\n  function handleRequest() {\r\n    api.search(debounceSearchQuery)\r\n      .then((dataSearch) => {\r\n        setCards(dataSearch);\r\n      })\r\n  }\r\n\r\n  function handleFormSubmit(e) {\r\n    e.preventDefault();\r\n    handleRequest();\r\n  }\r\n\r\n  function handleInputChange(dataInput) {\r\n    setSearchQuery(dataInput);\r\n  }\r\n\r\n  function handleUpdateUser(dataUserUpdate) {\r\n    api.setUserInfo(dataUserUpdate)\r\n      .then((updateUserFromServer) => {\r\n        setCurrentUser(updateUserFromServer)\r\n      })\r\n  }\r\n\r\n  function handleProductLike(product) {\r\n    const like = isLiked(product.likes, currentUser._id)\r\n    api.changeLikeProductStatus(product._id, like)\r\n      .then((updateCard) => {\r\n        const newProducts = cards.map(cardState => {\r\n          return cardState._id === updateCard._id ? updateCard : cardState\r\n        })\r\n\r\n        setCards(newProducts)\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    handleRequest();\r\n  }, [debounceSearchQuery]);\r\n\r\n\r\n  useEffect(() => {\r\n    api.getProductsList()\r\n      .then((productsData) => {\r\n        setCards(productsData.products);\r\n      })\r\n      .catch(err => console.log(err));\r\n\r\n    api.getUserInfo()\r\n      .then((userData) => {\r\n        setCurrentUser(userData)\r\n      })\r\n      .catch(err => console.log(err))\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <Header user={currentUser} onUpdateUser={handleUpdateUser}>\r\n        <Logo />\r\n        <Search\r\n          handleFormSubmit={handleFormSubmit}\r\n          handleInputChange={handleInputChange}\r\n        />\r\n      </Header>\r\n      <main className=\"content container\">\r\n        <Sort />\r\n        <CardList \r\n          cards={cards} \r\n          onProductLike={handleProductLike} \r\n          currentUser={currentUser} />\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}