{"ast":null,"code":"import _classPrivateFieldLooseBase from \"C:/Users/Eliza/Desktop/Dogs2/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js\";\nimport _classPrivateFieldLooseKey from \"C:/Users/Eliza/Desktop/Dogs2/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js\";\nvar _baseurl = /*#__PURE__*/_classPrivateFieldLooseKey(\"baseurl\");\nvar _headers = /*#__PURE__*/_classPrivateFieldLooseKey(\"headers\");\nvar _onResponse = /*#__PURE__*/_classPrivateFieldLooseKey(\"onResponse\");\nclass Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    Object.defineProperty(this, _onResponse, {\n      value: _onResponse2\n    });\n    Object.defineProperty(this, _baseurl, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _headers, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldLooseBase(this, _baseurl)[_baseurl] = baseUrl;\n    _classPrivateFieldLooseBase(this, _headers)[_headers] = headers;\n  }\n  getProductsList() {\n    return fetch(`${_classPrivateFieldLooseBase(this, _baseurl)[_baseurl]}/products`, {\n      headers: _classPrivateFieldLooseBase(this, _headers)[_headers]\n    }).then(_classPrivateFieldLooseBase(this, _onResponse)[_onResponse]);\n  }\n  getUserInfo() {\n    return fetch(`${_classPrivateFieldLooseBase(this, _baseurl)[_baseurl]}/users/me`, {\n      headers: _classPrivateFieldLooseBase(this, _headers)[_headers]\n    }).then(_classPrivateFieldLooseBase(this, _onResponse)[_onResponse]);\n  }\n  search(searchQuery) {\n    return fetch(`${_classPrivateFieldLooseBase(this, _baseurl)[_baseurl]}/products/search?query=${searchQuery}`, {\n      headers: _classPrivateFieldLooseBase(this, _headers)[_headers]\n    }).then(_classPrivateFieldLooseBase(this, _onResponse)[_onResponse]);\n  }\n  setUserInfo(_ref2) {\n    let {\n      name,\n      about\n    } = _ref2;\n    return fetch(`${_classPrivateFieldLooseBase(this, _baseurl)[_baseurl]}/users/me`, {\n      method: 'PATCH',\n      headers: _classPrivateFieldLooseBase(this, _headers)[_headers],\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(_classPrivateFieldLooseBase(this, _onResponse)[_onResponse]);\n  }\n  changeLikeProductStatus(productID, like) {\n    return fetch(`${_classPrivateFieldLooseBase(this, _baseurl)[_baseurl]}/products/likes/${productID}`, {\n      method: like ? 'DELETE' : 'PUT',\n      headers: _classPrivateFieldLooseBase(this, _headers)[_headers]\n    }).then(_classPrivateFieldLooseBase(this, _onResponse)[_onResponse]);\n  }\n}\nfunction _onResponse2(res) {\n  return res.ok ? res.json() : res.json().then(err => Promise.reject(err));\n}\nconst api = new Api({\n  baseUrl: 'https://api.react-learning.ru',\n  headers: {\n    'content-type': 'application/json',\n    authorization: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDEwN2UwOGFhMzk3MTIxODM4ZjI4OTgiLCJncm91cCI6Imdyb3VwLTExIiwiaWF0IjoxNjc4ODAyNDQzLCJleHAiOjE3MTAzMzg0NDN9.Y7nuAVWeA_CGJipJNTktP9raSdpM41B3s-z4l-8rE70'\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","_ref","baseUrl","headers","Object","defineProperty","_onResponse","value","_onResponse2","_baseurl","writable","_headers","_classPrivateFieldLooseBase","getProductsList","fetch","then","getUserInfo","search","searchQuery","setUserInfo","_ref2","name","about","method","body","JSON","stringify","changeLikeProductStatus","productID","like","res","ok","json","err","Promise","reject","api","authorization"],"sources":["C:/Users/Eliza/Desktop/Dogs2/src/utils/api.js"],"sourcesContent":["class Api {\r\n    #baseurl;\r\n    #headers;\r\n    constructor({ baseUrl, headers }) {\r\n        this.#baseurl = baseUrl;\r\n        this.#headers = headers;\r\n    }\r\n\r\n    #onResponse(res) {\r\n        return res.ok ? res.json() : res.json().then(err => Promise.reject(err))\r\n    }\r\n\r\n    getProductsList() {\r\n        return fetch(`${this.#baseurl}/products`, {\r\n            headers: this.#headers\r\n        })\r\n            .then(this.#onResponse)\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this.#baseurl}/users/me`, {\r\n            headers: this.#headers\r\n        })\r\n            .then(this.#onResponse)\r\n    }\r\n\r\n    search(searchQuery) {\r\n        return fetch(`${this.#baseurl}/products/search?query=${searchQuery}`, {\r\n            headers: this.#headers\r\n        })\r\n            .then(this.#onResponse)\r\n    }\r\n\r\n    setUserInfo({ name, about }) {\r\n        return fetch(`${this.#baseurl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this.#headers,\r\n            body: JSON.stringify({ name, about })\r\n        })\r\n            .then(this.#onResponse)\r\n    }\r\n\r\n    changeLikeProductStatus(productID, like) {\r\n        return fetch(`${this.#baseurl}/products/likes/${productID}`, {\r\n            method: like ? 'DELETE' : 'PUT',\r\n            headers: this.#headers,\r\n        })\r\n            .then(this.#onResponse)\r\n    }\r\n}\r\n\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://api.react-learning.ru',\r\n    headers: {\r\n        'content-type': 'application/json',\r\n        authorization: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDEwN2UwOGFhMzk3MTIxODM4ZjI4OTgiLCJncm91cCI6Imdyb3VwLTExIiwiaWF0IjoxNjc4ODAyNDQzLCJleHAiOjE3MTAzMzg0NDN9.Y7nuAVWeA_CGJipJNTktP9raSdpM41B3s-z4l-8rE70'\r\n    }\r\n})\r\n\r\n\r\nexport default api;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}